# 35. 얼굴을 인식해서 드론 조종하기
## 필요한 모듈 가져오기
* 필요한 모듈을 가져옵니다.
* 시간, 드론, OpenCV, 키보드 관련되 모듈을 가져옵니다.
```python
from time import sleep
from e_drone.drone import *
from e_drone.protocol import *
import cv2
import keyboard
```

## haarcascades 기능 사용하기
* 얼굴을 인식하게 하는 haarcascades 기능을 사용합니다.
```python
face_detector = cv2.CascadeClassifier()
face_detector.load('haarcascade_frontalface_default.xml의 경로')
```

## 얼굴이 인식되는지 확인하는 face함수 만들기
* 이미지를 원하는 위치와 크기로 자릅니다.
* image를 높이, 너비, ROI를 사용해서 자릅니다. 
* ```roi = image[H1:H2, W1:W2]``` : H1좌표부터 H2좌표의 높이까지, W1좌표부터 W2좌표까지의 폭을 잘라냅니다.
* ```roi = image[H - ROI:H + ROI, W - ROI:W + ROI]``` : H를 기준으로 ROI 값만큼의 범위까지 자르고, W를 기준으로 ROI 값만큼의 범위까지 자릅니다. 
* ```faces = face_detector.detectMultiScale(roi, 1.3, 5, 10)``` : 자른 영역을 기준으로 얼굴을 인식합니다.
* ```len(faces) == 0```이면 faces에 아무것도 없는 것입니다. 그러면 얼굴을 인식하지 못한 것입니다. ```return False```로 리턴값을 반환합니다.
* 그렇지 않다면 ```return True```로 리턴값을 반환합니다.    
```python
def face(image, window, ROI, W, H):
    roi = image[H - ROI:H + ROI, W - ROI:W + ROI]
    faces = face_detector.detectMultiScale(roi, 1.3, 5, 10)
    if(len(faces) == 0):
        return False
    else:
        return True
```








